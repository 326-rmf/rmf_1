<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TuXingHeCheng</title>
    <style>
        canvas{
            margin: 50px auto;
            /* position: absolute; */
            border: solid 1px #000;
            display: block;
            /* background: url('img/m1.jpg') no-repeat; */
            /* background-size: over; */
        }
    </style>
</head>
<body>
    <canvas></canvas>
    <script>
        var canvas = document.querySelector('canvas');
        canvas.width= 600;
        canvas.height= 400;
        var ctx = canvas.getContext('2d');
        // ctx.fillRect(100,100,300,50);
        // ctx.fillStyle='red';
        //soure-over新图形把源图形盖住
        // ctx.globalCompositeOperation='source-over'
        // ctx.globalCompositeOperation='source-atop';
        //source-in图形的共同的部分
        // ctx.globalCompositeOperation='source-in';
        //源图形以及源图形和新图形的公共部分会变透明
        // ctx.globalCompositeOperation='source-out';
        // ctx.globalCompositeOperation='destination-out';

        // ctx.fillStyle='yellowgreen';
        // ctx.fillRect(100,100,50,300);
        // ctx.fillStyle='#ccc';

        // ctx.fillRect(0,0,600,400);
        // ctx.globalCompositeOperation='destination-out';
        // ctx.fillRect(50,50,100,100);    
        // var isDown = false;
        // canvas.onmousedown=function(e){
        //     ctx.beginPath();
        //     // 调整画笔宽度
        //     ctx.lineWidth=50;
        //     ctx.lineCap='round';
        //     ctx.moveTo(e.offsetX,e.offsetY);
        //     isDown=true;
        // }
        // canvas.onmousemove=function(e){
        //     if(!isDown)return;
        //     ctx.lineTo(e.offsetX,e.offsetY);
        //     ctx.stroke();
            
        // }
        // canvas.onmouseup=function(){
        //     isDown=false;
        // }
        //获取10*10的像素信息       100个像素   但是四个值r,g,b,a表示一个像素

        // var pixelData = ctx.getImageData(0,0,canvas.width,canvas.height);
        // console.log(pixelData);
        // getPixel(imgData,3,4);
        // var img= document.createElement('img');
                
// img.crossOrigin='';
// console.log(imgData);
// console.log(getPixel());
        // img.onload = function(){
        //     ctx.drawImage(img,0,0,600,600*img.height/img.width);
        //     var imgData1 = ctx.getImageData(0,0,canvas.width,canvas.height);

        //     var size = 10;
        //     for(var i =0;i<canvas.width;i+=size){
        //         for(var j=0;j<canvas.height;j+=size){
        //             var colors = getPixel(imgData1,i,j);
        //             // console.log()
        //             for(var a = i;a<i+size;a++){
        //                 for(var b=j;b<j+size;b++){
        //                     setPixel(imgData1,a,b,colors);
        //                 }
        //             }
        //         }
        //     }
            //像素的点信息
            // var imgData = ctx.getImageData(0,0,canvas.width,canvas.height);
// console.log(imgData1);
        //     ctx.putImageData(imgData1,0,0);}
        //     img.src = './img/zsm1.jpg';
        // function getPixel(imgData,x,y){
        //     var index = y*4*imgData.width+x*4;
        //     //
        //     var d = [];
        //     d[0]=imgData.data[index];
        //     d[1]=imgData.data[index+1];
        //     d[2]=imgData.data[index+2];
        //     d[3]=imgData.data[index+3];
        //     return d;
        // }
        //像素设置
        // ctx.putImageData(pixelData,0,0);
        //修改(5,5)像素的颜色为红色
        // setPixel(pixelData,5,5,[2])
        // function setPixel(imgData,x,y,colors){
        //     var index = y*4*imgData.width+x*4;
        //     imgData.data[index]=colors[0];
        //     imgData.data[index+1]=colors[1];
        //     imgData.data[index+2]=colors[2];
        //     imgData.data[index+3]=colors[3];}
        //     setPixel(pixelData,50,50,[255,0,0,255]);
        //     ctx.putImageData(pixelData,0,0);
            // console.log(pixelData);
            //马赛克
          

            // img.onload= function(){
            //     ctx.drawImage(img,0,0,600,600*img.height/img.width);
                //随机颜色显示
            //     for(var i=0;i<imgData.data.length;i++){
            //         imgData.data[i]=Math.floor(Math.random()*255);
            //     }
            //     ctx.putImageData(imgData,0,0);
            // }
          
    </script>
</body>
</html>